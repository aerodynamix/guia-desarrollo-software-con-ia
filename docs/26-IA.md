# 26 - Estrategia de IA para Desarrollo

> **Objetivo:** Maximizar el valor de cada token. Construir más rápido, más barato y con menos errores usando Agentes IA.

---

## 1. Estrategia de Contexto (Ahorro de Tokens)

Los LLMs tienen una ventana de contexto limitada y cobran por token. No le des todo el repositorio.

### El Archivo `_CONTEXT.md` (Generado)
Crea un script que concatene la estructura vital del proyecto en un solo archivo pequeño.
La IA prefiere leer **1 archivo denso** que 50 archivos dispersos.

**Estructura ideal de `_CONTEXT.md` para la IA:**
1.  **Árbol de directorios:** `tree -I "node_modules|.git"`
2.  **Schema de BD:** `schema.prisma` o `init.sql` (La IA NECESITA saber la estructura de datos).
3.  **Tipos Globales:** `types.ts` o interfaces clave.
4.  **Rutas:** Lista de endpoints/paginas.

> **Tip:** Antes de pedir una feature compleja, corre tu script de contexto y adjunta `_CONTEXT.md`.
> *"IA, aquí está el estado actual del proyecto (ver _CONTEXT.md). Implementa el módulo de Facturación."*

---

## 2. Tecnologías "IA-Friendly"

Algunas tecnologías reducen las alucinaciones de la IA porque son estrictas.

| Tecnología | Nivel de Alucinación | Por qué funciona mejor con IA |
|------------|----------------------|-------------------------------|
| **TypeScript** | Bajo | Los tipos obligan a la IA a respetar contratos. Si alucina, el compilador explota. |
| **JavaScript** | Alto | La IA puede inventar propiedades que no existen. |
| **Tailwind** | Muy Bajo | Las clases son tokens estándar. La IA "habla" Tailwind nativamente. |
| **Rust** | Nulo (Casi) | El compilador es tan estricto que si la IA genera código que compila, 99% seguro funciona. |

**Regla:** Usa **TypeScript Strict Mode** siempre. Es tu cinturón de seguridad contra alucinaciones.

---

## 3. Herramientas de Alta Velocidad (Freelance & Startups)

Para clientes que necesitan MVP rápido (Startups, PyMEs), no reinventes la rueda.

### PocketBase (El Arma Secreta)
*   **Qué es:** Backend en un solo archivo (Go). Incluye Base de Datos (SQLite), Auth, Realtime, Almacenamiento y Panel Admin.
*   **Por qué para IA:**
    *   La IA entiende perfectamente la API de JavaScript SDK.
    *   Te ahorras escribir Controllers, Services y Repositories.
    *   **Ahorro de Tokens:** ~80% menos código de backend.
*   **Uso:** Proyectos medianos, MVPs, Intrankets, Apps móviles.

### Supabase / Firebase
*   **Uso:** Si necesitas escalar masivamente desde el día 1 o funciones Serverless complejas.

---

## 4. Adaptando el Stack al Cliente

La IA debe saber para quién está trabajando.

### A. Emprendedor / Startup (Validación)
*   **Prioridad:** Velocidad, Costo 0.
*   **Stack:** Nuxt 3 + PocketBase + Tailwind.
*   **Infra:** Vercel (Free) + PocketBase en VPS pequeño ($4).
*   **Instrucción a IA:** *"Prioriza velocidad. Usa librerías estándar. No sobre-ingenierices."*

### B. PyME / Empresa Estable (Operación)
*   **Prioridad:** Estabilidad, Mantenibilidad, Reportes.
*   **Stack:** Next.js + NestJS (Monolito Modular) + PostgreSQL.
*   **Infra:** Coolify en VPS ($10-20). Backup diario obligatorio.
*   **Instrucción a IA:** *"Sigue patrones de diseño. Crea tests automatizados para reglas de negocio."*

### C. Cliente Corporativo / Enterprise
*   **Prioridad:** Seguridad, Auditoría, Compliance.
*   **Stack:** Java (Spring Boot) o .NET + Angular/React + Kubernetes (opcional).
*   **Infra:** AWS / Azure (Gestionado).
*   **Instrucción a IA:** *"Aplica Hexagonal Architecture. Documentación OpenAPI obligatoria. Auditoría de logs estricta."*

---

## 5. Workflow de "Refactorización Asistida"

Cuando el código se ensucia (y la IA empieza a confundirse):

1.  **Pausa:** No sigas añadiendo features.
2.  **Prompt de Limpieza:**
    > *"Analiza el archivo `auth.service.ts`. Identifica funciones duplicadas o muy largas. Refactoriza aplicando Clean Code y principios SOLID. No cambies la lógica, solo la estructura."*
3.  **Commit:** Guarda el refactor antes de seguir.

> **Mantra:** Una base de código limpia ahorra tokens y mejora la inteligencia de tu Agente.

---

## 6. Regla de Oro Linguística (Integridad)

Para que este ecosistema siga siendo útil a lo largo del tiempo para otros humanos y agentes:
- **Respeto Técnico:** Es obligatorio el uso correcto de tildes (acentos) y la letra "ñ" en toda la documentación y comentarios.
- **Coherencia:** El lenguaje debe ser profesional, sobrio y libre de ambigüedades.
- **Sin Emojis:** Prohibido el uso de emojis en cualquier archivo técnico o documentación del proyecto.
